<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/SessionVar.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> sbt

	<span class="keyword">import</span> <a href="Def.scala.html#sbt.Def" title="sbt.Def.type">Def</a>.ScopedKey
	<span class="keyword">import</span> <a href="Types.scala.html#sbt.Types" title="sbt.Types.type">Types</a>.Id
	<span class="keyword">import</span> <a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.sessionVars
	<span class="keyword">import</span> sbinary.<span class="delimiter">{</span>Format, Operations<span class="delimiter">}</span>

<span class="keyword">object</span> <a title="sbt.SessionVar.type" id="sbt.SessionVar">SessionVar</a>
<a href="#sbt.SessionVar" title="sbt.SessionVar.type" class="delimiter">{</a>
	<span class="keyword">val</span> <a title="String" id="sbt.SessionVar.DefaultDataID">DefaultDataID</a> = <span title="String(&quot;data&quot;)" class="string">&quot;data&quot;</span>

	<span class="comment">// these are required because of inference+manifest limitations</span>
	<span class="keyword">final</span> <span class="keyword">case class</span> <a href="#sbt.SessionVar;Key.productElement.x$1" title="class Key[T] extends AnyRef with Product with Serializable" id="sbt.SessionVar.Key.readResolve">Key</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar;Key;T">T</a><span class="delimiter">]</span><a href="#sbt.SessionVar.Key.readResolve" title="Product" class="delimiter">(</a><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar;Key.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>
	<span class="keyword">final</span> <span class="keyword">case class</span> <a title="class Map extends AnyRef with Product with Serializable" id="sbt.SessionVar.Map.readResolve">Map</a><a href="#sbt.SessionVar.Map.readResolve" title="Product" class="delimiter">(</a><a title="sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id]" id="sbt.SessionVar;Map.map">map</a>: <a href="PMap.scala.html#sbt;IMap" title="sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id]">IMap</a><span class="delimiter">[</span>Key, Id<span class="delimiter">]</span><span class="delimiter">)</span> <span class="delimiter">{</span>
		<span class="keyword">def</span> <a title="[T](k: sbt.Def.ScopedKey[sbt.Task[T]])Option[T]" id="sbt.SessionVar;Map.get">get</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar;Map.get;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar;Map.get.k">k</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#sbt.SessionVar;Map.map" title="=&gt; sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id]">map</a> <a href="PMap.scala.html#sbt;RMap.get" title="(k: sbt.SessionVar.Key[T])Option[sbt.Types.Id[T]]">get</a> <a href="#sbt.SessionVar.Key.readResolve" title="(key: sbt.Def.ScopedKey[sbt.Task[T]])sbt.SessionVar.Key[T]">Key</a><span class="delimiter">(</span><a href="#sbt.SessionVar;Map.get.k" title="sbt.Def.ScopedKey[sbt.Task[T]]">k</a><span class="delimiter">)</span>
		<span class="keyword">def</span> <a title="[T](k: sbt.Def.ScopedKey[sbt.Task[T]], v: T)sbt.SessionVar.Map" id="sbt.SessionVar;Map.put">put</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar;Map.put;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar;Map.put.k">k</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="T" id="sbt.SessionVar;Map.put.v">v</a>: <a href="#sbt.SessionVar;Map.put;T" title="T">T</a><span class="delimiter">)</span>: <a href="#sbt.SessionVar.Map.readResolve" title="sbt.SessionVar.Map">Map</a> = <a href="#sbt.SessionVar.Map.readResolve" title="(map: sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id])sbt.SessionVar.Map">Map</a><span class="delimiter">(</span><a href="#sbt.SessionVar;Map.map" title="=&gt; sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id]">map</a> <a href="PMap.scala.html#sbt;IMap.put" title="(k: sbt.SessionVar.Key[T], v: sbt.Types.Id[T])sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id]">put</a> <span class="delimiter">(</span><a href="#sbt.SessionVar.Key.readResolve" title="(key: sbt.Def.ScopedKey[sbt.Task[T]])sbt.SessionVar.Key[T]">Key</a><span class="delimiter">(</span><a href="#sbt.SessionVar;Map.put.k" title="sbt.Def.ScopedKey[sbt.Task[T]]">k</a><span class="delimiter">)</span>, <a href="#sbt.SessionVar;Map.put.v" title="T">v</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="=&gt; sbt.SessionVar.Map" id="sbt.SessionVar.emptyMap">emptyMap</a> = <a href="#sbt.SessionVar.Map.readResolve" title="(map: sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id])sbt.SessionVar.Map">Map</a><span class="delimiter">(</span><a href="PMap.scala.html#sbt.IMap" title="sbt.IMap.type">IMap</a>.<a href="PMap.scala.html#sbt.IMap.empty" title="sbt.IMap[sbt.SessionVar.Key,sbt.Types.Id]">empty</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State, value: T)(implicit f: sbinary.Format[T])sbt.State" id="sbt.SessionVar.persistAndSet">persistAndSet</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.persistAndSet;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.persistAndSet.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.State" id="sbt.SessionVar.persistAndSet.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a>, <a title="T" id="sbt.SessionVar.persistAndSet.value">value</a>: <a href="#sbt.SessionVar.persistAndSet;T" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbinary.Format[T]" id="sbt.SessionVar.persistAndSet.f">f</a>: sbinary.<span title="sbinary.Format[T]">Format</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a> =
	<span class="delimiter">{</span>
		<a href="#sbt.SessionVar.persist" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State, value: T)(implicit f: sbinary.Format[T])Unit">persist</a><span class="delimiter">(</span><a href="#sbt.SessionVar.persistAndSet.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.persistAndSet.state" title="sbt.State">state</a>, <a href="#sbt.SessionVar.persistAndSet.value" title="T">value</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.SessionVar.persistAndSet.f" title="sbinary.Format[T]">f</a><span class="delimiter">)</span>
		<a href="#sbt.SessionVar.set" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State, value: T)sbt.State">set</a><span class="delimiter">(</span><a href="#sbt.SessionVar.persistAndSet.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.persistAndSet.state" title="sbt.State">state</a>, <a href="#sbt.SessionVar.persistAndSet.value" title="T">value</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State, value: T)(implicit f: sbinary.Format[T])Unit" id="sbt.SessionVar.persist">persist</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.persist;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.persist.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.State" id="sbt.SessionVar.persist.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a>, <a title="T" id="sbt.SessionVar.persist.value">value</a>: <a href="#sbt.SessionVar.persist;T" title="T">T</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbinary.Format[T]" id="sbt.SessionVar.persist.f">f</a>: sbinary.<span title="sbinary.Format[T]">Format</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> =
		<a href="Project.scala.html#sbt.Project" title="sbt.Project.type">Project</a>.<a href="Project.scala.html#sbt.Project.structure" title="(state: sbt.State)sbt.BuildStructure">structure</a><span class="delimiter">(</span><a href="#sbt.SessionVar.persist.state" title="sbt.State">state</a><span class="delimiter">)</span>.<a href="BuildStructure.scala.html#sbt;BuildStructure.streams" title="(v1: sbt.State)sbt.BuildStreams.Streams">streams</a><span class="delimiter">(</span><a href="#sbt.SessionVar.persist.state" title="sbt.State">state</a><span class="delimiter">)</span>.<a href="std/Streams.scala.html#sbt.std;Streams.use" title="(key: sbt.Def.ScopedKey[_])(f: sbt.std.TaskStreams[sbt.Def.ScopedKey[_]] =&gt; Unit)Unit">use</a><span class="delimiter">(</span><a href="#sbt.SessionVar.persist.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a><span class="delimiter">)</span><span class="delimiter">(</span> <a title="sbt.std.TaskStreams[sbt.Def.ScopedKey[_]]" id="sbt.SessionVar.persist.$anonfun.s">s</a> =&gt;
			<span title="sbinary.Operations.type">Operations</span>.<span title="(out: sbinary.Output, value: T)(implicit writer: sbinary.Writes[T])Unit">write</span><span class="delimiter">(</span><a href="#sbt.SessionVar.persist.$anonfun.s" title="sbt.std.TaskStreams[sbt.Def.ScopedKey[_]]">s</a>.<a href="std/Streams.scala.html#sbt.std;TaskStreams.binary" title="(sid: String)java.io.BufferedOutputStream">binary</a><span title="implicit sbinary.Output.javaOutputToOutput : (x: java.io.OutputStream)sbinary.JavaOutput" class="delimiter">(</span><a href="#sbt.SessionVar.DefaultDataID" title="=&gt; String">DefaultDataID</a><span class="delimiter">)</span>, <a href="#sbt.SessionVar.persist.value" title="T">value</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.SessionVar.persist.f" title="sbinary.Format[T]">f</a><span class="delimiter">)</span>
		<span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(s: sbt.State)sbt.State" id="sbt.SessionVar.clear">clear</a><span class="delimiter">(</span><a title="sbt.State" id="sbt.SessionVar.clear.s">s</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a><span class="delimiter">)</span>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a>  =  <a href="State.scala.html#sbt.State.stateOps" title="implicit sbt.State.stateOps : (s: sbt.State)sbt.StateOps">s</a>.<a href="State.scala.html#sbt;StateOps.put" title="(key: sbt.AttributeKey[sbt.SessionVar.Map], value: sbt.SessionVar.Map)sbt.State">put</a><span class="delimiter">(</span><a href="Keys.scala.html#sbt.Keys.sessionVars" title="=&gt; sbt.AttributeKey[sbt.SessionVar.Map]">sessionVars</a>, <a href="#sbt.SessionVar" title="sbt.SessionVar.type">SessionVar</a>.<a href="#sbt.SessionVar.emptyMap" title="=&gt; sbt.SessionVar.Map">emptyMap</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)Option[T]" id="sbt.SessionVar.get">get</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.get;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.get.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.State" id="sbt.SessionVar.get.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a><span class="delimiter">)</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="#sbt.SessionVar.orEmpty" title="(opt: Option[sbt.SessionVar.Map])sbt.SessionVar.Map">orEmpty</a><span class="delimiter">(</span><a href="State.scala.html#sbt.State.stateOps" title="implicit sbt.State.stateOps : (s: sbt.State)sbt.StateOps">state</a> <a href="State.scala.html#sbt;StateOps.get" title="(key: sbt.AttributeKey[sbt.SessionVar.Map])Option[sbt.SessionVar.Map]">get</a> <a href="Keys.scala.html#sbt.Keys.sessionVars" title="=&gt; sbt.AttributeKey[sbt.SessionVar.Map]">sessionVars</a><span class="delimiter">)</span> <a href="#sbt.SessionVar;Map.get" title="(k: sbt.Def.ScopedKey[sbt.Task[T]])Option[T]">get</a> <a href="#sbt.SessionVar.get.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State, value: T)sbt.State" id="sbt.SessionVar.set">set</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.set;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.set.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.State" id="sbt.SessionVar.set.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a>, <a title="T" id="sbt.SessionVar.set.value">value</a>: <a href="#sbt.SessionVar.set;T" title="T">T</a><span class="delimiter">)</span>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a> = <a href="State.scala.html#sbt.State.stateOps" title="implicit sbt.State.stateOps : (s: sbt.State)sbt.StateOps">state</a>.<a href="State.scala.html#sbt;StateOps.update" title="(key: sbt.AttributeKey[sbt.SessionVar.Map])(f: Option[sbt.SessionVar.Map] =&gt; sbt.SessionVar.Map)sbt.State">update</a><span class="delimiter">(</span><a href="Keys.scala.html#sbt.Keys.sessionVars" title="=&gt; sbt.AttributeKey[sbt.SessionVar.Map]">sessionVars</a><span class="delimiter">)</span><span class="delimiter">(</span><a title="Option[sbt.SessionVar.Map]" id="sbt.SessionVar.set.$anonfun.om">om</a> =&gt; <a href="#sbt.SessionVar.orEmpty" title="(opt: Option[sbt.SessionVar.Map])sbt.SessionVar.Map">orEmpty</a><span class="delimiter">(</span><a href="#sbt.SessionVar.set.$anonfun.om" title="Option[sbt.SessionVar.Map]">om</a><span class="delimiter">)</span> <a href="#sbt.SessionVar;Map.put" title="(k: sbt.Def.ScopedKey[sbt.Task[T]], v: T)sbt.SessionVar.Map">put</a> <span class="delimiter">(</span><a href="#sbt.SessionVar.set.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.set.value" title="T">value</a><span class="delimiter">)</span><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="(opt: Option[sbt.SessionVar.Map])sbt.SessionVar.Map" id="sbt.SessionVar.orEmpty">orEmpty</a><span class="delimiter">(</span><a title="Option[sbt.SessionVar.Map]" id="sbt.SessionVar.orEmpty.opt">opt</a>: <span title="Option[sbt.SessionVar.Map]">Option</span><span class="delimiter">[</span>Map<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#sbt.SessionVar.orEmpty.opt" title="Option[sbt.SessionVar.Map]">opt</a> <span title="(default: =&gt; sbt.SessionVar.Map)sbt.SessionVar.Map">getOrElse</span> <a href="#sbt.SessionVar.emptyMap" title="=&gt; sbt.SessionVar.Map">emptyMap</a>

	<span class="keyword">def</span> <a title="[S](task: sbt.Task[S], f: (sbt.State, S) =&gt; sbt.State)sbt.Task[S]" id="sbt.SessionVar.transform">transform</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.transform;S">S</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Task[S]" id="sbt.SessionVar.transform.task">task</a>: <a href="Action.scala.html#sbt;Task" title="sbt.Task[S]">Task</a><span class="delimiter">[</span>S<span class="delimiter">]</span>, <a title="(sbt.State, S) =&gt; sbt.State" id="sbt.SessionVar.transform.f">f</a>: <span class="delimiter">(</span>State, S<span class="delimiter">)</span> =&gt; State<span class="delimiter">)</span>: <a href="Action.scala.html#sbt;Task" title="sbt.Task[S]">Task</a><span class="delimiter">[</span>S<span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="(S, sbt.AttributeMap) =&gt; sbt.AttributeMap" id="sbt.SessionVar.transform.g">g</a> = <span class="delimiter">(</span>s: <a href="#sbt.SessionVar.transform;S" title="S">S</a>, map: <a href="Attributes.scala.html#sbt;AttributeMap" title="sbt.AttributeMap">AttributeMap</a><span class="delimiter">)</span> =&gt; <a href="#sbt.SessionVar.transform.g.$anonfun.map" title="sbt.AttributeMap">map</a>.<a href="Attributes.scala.html#sbt;AttributeMap.put" title="(k: sbt.AttributeKey[sbt.State =&gt; sbt.State], value: sbt.State =&gt; sbt.State)sbt.AttributeMap">put</a><span class="delimiter">(</span><a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<a href="Keys.scala.html#sbt.Keys.transformState" title="=&gt; sbt.AttributeKey[sbt.State =&gt; sbt.State]">transformState</a>, <span class="delimiter">(</span>state: <a href="State.scala.html#sbt;State" title="sbt.State">State</a><span class="delimiter">)</span> =&gt; <a href="#sbt.SessionVar.transform.f" title="(v1: sbt.State, v2: S)sbt.State">f</a><span class="delimiter">(</span><a href="#sbt.SessionVar.transform.g.$anonfun.$anonfun.state" title="sbt.State">state</a>, <a href="#sbt.SessionVar.transform.g.$anonfun.s" title="S">s</a><span class="delimiter">)</span><span class="delimiter">)</span>
		<a href="#sbt.SessionVar.transform.task" title="sbt.Task[S]">task</a>.<a href="Action.scala.html#sbt;Task.copy" title="(info: sbt.Info[S], work: sbt.Action[S])sbt.Task[S]">copy</a><span class="delimiter">(</span>info = <a href="#sbt.SessionVar.transform.task" title="sbt.Task[S]">task</a>.<a href="Action.scala.html#sbt;Task.info" title="=&gt; sbt.Info[S]">info</a>.<a href="Action.scala.html#sbt;Info.postTransform" title="(f: (S, sbt.AttributeMap) =&gt; sbt.AttributeMap)sbt.Info[S]">postTransform</a><span class="delimiter">(</span><a href="#sbt.SessionVar.transform.g" title="(S, sbt.AttributeMap) =&gt; sbt.AttributeMap">g</a><span class="delimiter">)</span><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], context: sbt.Scope, state: sbt.State)sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.resolveContext">resolveContext</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.resolveContext;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.resolveContext.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.Scope" id="sbt.SessionVar.resolveContext.context">context</a>: <a href="Scope.scala.html#sbt;Scope" title="sbt.Scope">Scope</a>, <a title="sbt.State" id="sbt.SessionVar.resolveContext.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a><span class="delimiter">)</span>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span> =
	<span class="delimiter">{</span>
		<span class="keyword">val</span> <a title="sbt.Scope" id="sbt.SessionVar.resolveContext.subScope">subScope</a> = <a href="Scope.scala.html#sbt.Scope" title="sbt.Scope.type">Scope</a>.<a href="Scope.scala.html#sbt.Scope.replaceThis" title="(thisScope: sbt.Scope)sbt.Scope =&gt; sbt.Scope">replaceThis</a><span title="(v1: sbt.Scope)sbt.Scope" class="delimiter">(</span><a href="#sbt.SessionVar.resolveContext.context" title="sbt.Scope">context</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.SessionVar.resolveContext.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>.<a href="Settings.scala.html#sbt;Init;ScopedKey.scope" title="=&gt; sbt.Scope">scope</a><span class="delimiter">)</span>
		<span class="keyword">val</span> <a title="sbt.Scope" id="sbt.SessionVar.resolveContext.scope">scope</a> = <a href="Project.scala.html#sbt.Project" title="sbt.Project.type">Project</a>.<a href="Project.scala.html#sbt.Project.structure" title="(state: sbt.State)sbt.BuildStructure">structure</a><span class="delimiter">(</span><a href="#sbt.SessionVar.resolveContext.state" title="sbt.State">state</a><span class="delimiter">)</span>.<a href="BuildStructure.scala.html#sbt;BuildStructure.data" title="=&gt; sbt.Settings[sbt.Scope]">data</a>.<a href="Settings.scala.html#sbt;Settings.definingScope" title="(scope: sbt.Scope, key: sbt.AttributeKey[_])Option[sbt.Scope]">definingScope</a><span class="delimiter">(</span><a href="#sbt.SessionVar.resolveContext.subScope" title="sbt.Scope">subScope</a>, <a href="#sbt.SessionVar.resolveContext.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>.<a href="Settings.scala.html#sbt;Init;ScopedKey.key" title="=&gt; sbt.AttributeKey[sbt.Task[T]]">key</a><span class="delimiter">)</span> <span title="(default: =&gt; sbt.Scope)sbt.Scope">getOrElse</span> <a href="#sbt.SessionVar.resolveContext.subScope" title="sbt.Scope">subScope</a>
		<a href="Settings.scala.html#sbt;Init;ScopedKey" title="(scope: sbt.Scope, key: sbt.AttributeKey[sbt.Task[T]])sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">(</span><a href="#sbt.SessionVar.resolveContext.scope" title="sbt.Scope">scope</a>, <a href="#sbt.SessionVar.resolveContext.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>.<a href="Settings.scala.html#sbt;Init;ScopedKey.key" title="=&gt; sbt.AttributeKey[sbt.Task[T]]">key</a><span class="delimiter">)</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)(implicit f: sbinary.Format[T])Option[T]" id="sbt.SessionVar.read">read</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.read;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.read.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.State" id="sbt.SessionVar.read.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbinary.Format[T]" id="sbt.SessionVar.read.f">f</a>: <span title="sbinary.Format[T]">Format</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> =
		<a href="Project.scala.html#sbt.Project" title="sbt.Project.type">Project</a>.<a href="Project.scala.html#sbt.Project.structure" title="(state: sbt.State)sbt.BuildStructure">structure</a><span class="delimiter">(</span><a href="#sbt.SessionVar.read.state" title="sbt.State">state</a><span class="delimiter">)</span>.<a href="BuildStructure.scala.html#sbt;BuildStructure.streams" title="(v1: sbt.State)sbt.BuildStreams.Streams">streams</a><span class="delimiter">(</span><a href="#sbt.SessionVar.read.state" title="sbt.State">state</a><span class="delimiter">)</span>.<a href="std/Streams.scala.html#sbt.std;Streams.use" title="(key: sbt.Def.ScopedKey[_])(f: sbt.std.TaskStreams[sbt.Def.ScopedKey[_]] =&gt; Option[T])Option[T]">use</a><span class="delimiter">(</span><a href="#sbt.SessionVar.read.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a><span class="delimiter">)</span> <span class="delimiter">{</span> <a title="sbt.std.TaskStreams[sbt.Def.ScopedKey[_]]" id="sbt.SessionVar.read.$anonfun.s">s</a> =&gt;
			<span class="keyword">try</span> <span class="delimiter">{</span> <span title="(x: T)Some[T]">Some</span><span class="delimiter">(</span><span title="sbinary.Operations.type">Operations</span>.<span title="(in: sbinary.Input)(implicit reader: sbinary.Reads[T])T">read</span><a href="#sbt.SessionVar.read.f" title="sbinary.Format[T]" class="delimiter">(</a><a href="#sbt.SessionVar.read.$anonfun.s" title="sbt.std.TaskStreams[sbt.Def.ScopedKey[_]]">s</a>.<a href="std/Streams.scala.html#sbt.std;TaskStreams.readBinary(63f5f649b8)" title="(a: sbt.Def.ScopedKey[_], sid: String)java.io.BufferedInputStream">readBinary</a><span title="implicit sbinary.Input.javaInputToInput : (x: java.io.InputStream)sbinary.JavaInput" class="delimiter">(</span><a href="#sbt.SessionVar.read.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.DefaultDataID" title="=&gt; String">DefaultDataID</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
			<span class="keyword">catch</span> <span class="delimiter">{</span> <span class="keyword">case</span> <a title="Exception" id="sbt.SessionVar.read.$anonfun.e">e</a>: <span title="Exception">Exception</span> =&gt; <span title="None.type">None</span> <span class="delimiter">}</span>
		<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)(implicit f: sbinary.Format[T])Option[T]" id="sbt.SessionVar.load">load</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.load;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.load.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.State" id="sbt.SessionVar.load.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbinary.Format[T]" id="sbt.SessionVar.load.f">f</a>: <span title="sbinary.Format[T]">Format</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Option[T]">Option</span><span class="delimiter">[</span>T<span class="delimiter">]</span> =
		<a href="#sbt.SessionVar.get" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)Option[T]">get</a><span class="delimiter">(</span><a href="#sbt.SessionVar.load.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.load.state" title="sbt.State">state</a><span class="delimiter">)</span> <span title="(alternative: =&gt; Option[T])Option[T]">orElse</span> <a href="#sbt.SessionVar.read" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)(implicit f: sbinary.Format[T])Option[T]">read</a><span class="delimiter">(</span><a href="#sbt.SessionVar.load.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.load.state" title="sbt.State">state</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.SessionVar.load.f" title="sbinary.Format[T]">f</a><span class="delimiter">)</span>

	<span class="keyword">def</span> <a title="[T](key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State, setIfUnset: Boolean)(implicit f: sbinary.Format[T])(sbt.State, Option[T])" id="sbt.SessionVar.loadAndSet">loadAndSet</a><span class="delimiter">[</span><a title="" id="sbt.SessionVar.loadAndSet$default$3;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="sbt.Def.ScopedKey[sbt.Task[T]]" id="sbt.SessionVar.loadAndSet.key">key</a>: <a href="Settings.scala.html#sbt;Init;ScopedKey" title="sbt.Def.ScopedKey[sbt.Task[T]]">ScopedKey</a><span class="delimiter">[</span>Task<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span>, <a title="sbt.State" id="sbt.SessionVar.loadAndSet.state">state</a>: <a href="State.scala.html#sbt;State" title="sbt.State">State</a>, <a title="Boolean" id="sbt.SessionVar.loadAndSet$default$3">setIfUnset</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(true)" class="keyword">true</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="sbinary.Format[T]" id="sbt.SessionVar.loadAndSet.f">f</a>: <span title="sbinary.Format[T]">Format</span><span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="(sbt.State, Option[T])" class="delimiter">(</span>State, Option<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">)</span> =
		<a href="#sbt.SessionVar.get" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)Option[T]">get</a><span class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.loadAndSet.state" title="sbt.State">state</a><span class="delimiter">)</span> <span title="(sbt.State, Option[T])" class="keyword">match</span> <span class="delimiter">{</span>
			<span class="keyword">case</span> <span title="Some[T]">s</span>: <span title="Some[T]">Some</span><span class="delimiter">[</span>T<span class="delimiter">]</span> =&gt; <span title="(_1: sbt.State, _2: Some[T])(sbt.State, Some[T])" class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.state" title="sbt.State">state</a>, <span title="Some[T]">s</span><span class="delimiter">)</span>
			<span class="keyword">case</span> <span title="None.type">None</span> =&gt; <a href="#sbt.SessionVar.read" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)(implicit f: sbinary.Format[T])Option[T]">read</a><span class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.loadAndSet.state" title="sbt.State">state</a><span class="delimiter">)</span><span class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.f" title="sbinary.Format[T]">f</a><span class="delimiter">)</span> <span title="(sbt.State, Option[T])" class="keyword">match</span> <span class="delimiter">{</span>
				<span class="keyword">case</span> <span title="Some[T]">s</span> @ Some<span class="delimiter">(</span><a title="T" id="sbt.SessionVar.loadAndSet.t">t</a><span class="delimiter">)</span> =&gt;
					<span class="keyword">val</span> <a title="sbt.State" id="sbt.SessionVar.loadAndSet.newState">newState</a> = <span title="sbt.State" class="keyword">if</span><span class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet$default$3" title="Boolean">setIfUnset</a> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#sbt.SessionVar.get" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State)Option[T]">get</a><span class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.loadAndSet.state" title="sbt.State">state</a><span class="delimiter">)</span>.<span title="=&gt; Boolean">isDefined</span><span class="delimiter">)</span> <a href="#sbt.SessionVar.loadAndSet.state" title="sbt.State">state</a> <span class="keyword">else</span> <a href="#sbt.SessionVar.set" title="(key: sbt.Def.ScopedKey[sbt.Task[T]], state: sbt.State, value: T)sbt.State">set</a><span class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.key" title="sbt.Def.ScopedKey[sbt.Task[T]]">key</a>, <a href="#sbt.SessionVar.loadAndSet.state" title="sbt.State">state</a>, <a href="#sbt.SessionVar.loadAndSet.t" title="T">t</a><span class="delimiter">)</span>
					<span title="(_1: sbt.State, _2: Some[T])(sbt.State, Some[T])" class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.newState" title="sbt.State">newState</a>, <span title="Some[T]">s</span><span class="delimiter">)</span>
				<span class="keyword">case</span> <span title="None.type">None</span> =&gt; <span title="(_1: sbt.State, _2: None.type)(sbt.State, None.type)" class="delimiter">(</span><a href="#sbt.SessionVar.loadAndSet.state" title="sbt.State">state</a>, <span title="None.type">None</span><span class="delimiter">)</span>
			<span class="delimiter">}</span>
		<span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
