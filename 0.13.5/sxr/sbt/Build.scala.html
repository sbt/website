<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>sbt/Build.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="comment">/* sbt -- Simple Build Tool
 * Copyright 2011 Mark Harrah
 */</span>
<span class="keyword">package</span> sbt

	<span class="keyword">import</span> java.io.File
	<span class="keyword">import</span> <a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<span class="delimiter">{</span>name, organization, thisProject<span class="delimiter">}</span>
	<span class="keyword">import</span> <a href="Def.scala.html#sbt.Def" title="sbt.Def.type">Def</a>.<span class="delimiter">{</span>ScopedKey, Setting<span class="delimiter">}</span>

<span class="comment">// name is more like BuildDefinition, but that is too long</span>
<span class="keyword">trait</span> <a title="trait Build extends AnyRef" id="sbt;Build">Build</a>
<span title="Unit" class="delimiter">{</span>
	<span class="keyword">def</span> <a title="(baseDirectory: java.io.File)Seq[sbt.Project]" id="sbt;Build.projectDefinitions">projectDefinitions</a><span class="delimiter">(</span><a title="java.io.File" id="sbt;Build.projectDefinitions.baseDirectory">baseDirectory</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <span title="Seq[sbt.Project]">Seq</span><span class="delimiter">[</span>Project<span class="delimiter">]</span> = <a href="#sbt;Build.projects" title="=&gt; Seq[sbt.Project]">projects</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.Project]" id="sbt;Build.projects">projects</a>: <span title="Seq[sbt.Project]">Seq</span><span class="delimiter">[</span>Project<span class="delimiter">]</span> = <a href="ReflectUtilities.scala.html#sbt.ReflectUtilities" title="sbt.ReflectUtilities.type">ReflectUtilities</a>.<a href="ReflectUtilities.scala.html#sbt.ReflectUtilities.allVals" title="[T](self: AnyRef)(implicit mt: scala.reflect.Manifest[T])scala.collection.immutable.SortedMap[String,T]">allVals</a><span title="(self: AnyRef)(implicit mt: scala.reflect.Manifest[sbt.Project])scala.collection.immutable.SortedMap[String,sbt.Project]" class="delimiter">[</span><a href="Project.scala.html#sbt;Project" title="sbt.Project">Project</a><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[sbt.Project]" class="delimiter">(</span><a href="#sbt;Build" title="sbt.Build" class="keyword">this</a><span class="delimiter">)</span>.<span title="=&gt; Iterable[sbt.Project]">values</span>.<span title="=&gt; Seq[sbt.Project]">toSeq</span>
	<span class="comment">// TODO: Should we grab the build core setting shere or in a plugin?</span>
	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.Def.Setting[_]]" id="sbt;Build.settings">settings</a>: <span title="Seq[sbt.Def.Setting[_]]">Seq</span><span class="delimiter">[</span>Setting<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <a href="Defaults.scala.html#sbt.Defaults" title="sbt.Defaults.type">Defaults</a>.<a href="Defaults.scala.html#sbt.Defaults.buildCore" title="=&gt; Seq[sbt.Def.Setting[_]]">buildCore</a>
	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.BuildLoader.Components]" id="sbt;Build.buildLoaders">buildLoaders</a>: <span title="Seq[sbt.BuildLoader.Components]">Seq</span><span class="delimiter">[</span>BuildLoader.Components<span class="delimiter">]</span> = <span title="scala.collection.immutable.Nil.type">Nil</span>
	<span class="comment">/** Explicitly defines the root project.
	* If None, the root project is the first project in the build's root directory or just the first project if none are in the root directory.*/</span>
	<span class="keyword">def</span> <a title="=&gt; Option[sbt.Project]" id="sbt;Build.rootProject">rootProject</a>: <span title="Option[sbt.Project]">Option</span><span class="delimiter">[</span>Project<span class="delimiter">]</span> = <span title="None.type">None</span>
<span class="delimiter">}</span>
<span class="comment">// TODO 0.14.0: decide if Plugin should be deprecated in favor of AutoPlugin</span>
<span title="AnyRef" class="keyword">trait</span> <a title="trait Plugin extends AnyRef" id="sbt;Plugin">Plugin</a>
<span title="Unit" class="delimiter">{</span>
	@deprecated<span class="delimiter">(</span><span class="string">&quot;Override projectSettings or buildSettings instead.&quot;</span>, <span class="string">&quot;0.12.0&quot;</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.Def.Setting[_]]" id="sbt;Plugin.settings">settings</a>: <span title="Seq[sbt.Def.Setting[_]]">Seq</span><span class="delimiter">[</span>Setting<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="scala.collection.immutable.Nil.type">Nil</span>

	<span class="comment">/** Settings to be appended to all projects in a build. */</span>
	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.Def.Setting[_]]" id="sbt;Plugin.projectSettings">projectSettings</a>: <span title="Seq[sbt.Def.Setting[_]]">Seq</span><span class="delimiter">[</span>Setting<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="scala.collection.immutable.Nil.type">Nil</span>

	<span class="comment">/** Settings to be appended at the build scope. */</span>
	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.Def.Setting[_]]" id="sbt;Plugin.buildSettings">buildSettings</a>: <span title="Seq[sbt.Def.Setting[_]]">Seq</span><span class="delimiter">[</span>Setting<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="scala.collection.immutable.Nil.type">Nil</span>

	<span class="comment">/** Settings to be appended at the global scope. */</span>
	<span class="keyword">def</span> <a title="=&gt; Seq[sbt.Def.Setting[_]]" id="sbt;Plugin.globalSettings">globalSettings</a>: <span title="Seq[sbt.Def.Setting[_]]">Seq</span><span class="delimiter">[</span>Setting<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span> = <span title="scala.collection.immutable.Nil.type">Nil</span>
<span class="delimiter">}</span>

<span title="AnyRef" class="keyword">object</span> <a title="sbt.Build.type" id="sbt.Build">Build</a>
<a href="#sbt.Build" title="sbt.Build.type" class="delimiter">{</a>
	<span class="keyword">val</span> <a title="sbt.Build" id="sbt.Build.defaultEmpty">defaultEmpty</a>: <a href="#sbt;Build" title="sbt.Build">Build</a> = <a href="#sbt.Build.defaultEmpty;$anon" title="sbt.Build" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with sbt.Build" id="sbt.Build.defaultEmpty;$anon">Build</a> <span class="delimiter">{</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Nil.type" id="sbt.Build.defaultEmpty;$anon.projects">projects</a> = <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span>
	<span class="keyword">val</span> <a title="sbt.Build" id="sbt.Build.default">default</a>: <a href="#sbt;Build" title="sbt.Build">Build</a> = <a href="#sbt.Build.default;$anon" title="sbt.Build" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with sbt.Build" id="sbt.Build.default;$anon">Build</a> <span class="delimiter">{</span> <span class="keyword">override</span> <span class="keyword">def</span> <a title="(base: java.io.File)List[sbt.Project]" id="sbt.Build.default;$anon.projectDefinitions">projectDefinitions</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.Build.default;$anon.projectDefinitions.base">base</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="#sbt.Build.defaultProject(88e8f26929)" title="(id: String, base: java.io.File)sbt.Project">defaultProject</a><span class="delimiter">(</span><a href="#sbt.Build.defaultID" title="(base: java.io.File, prefix: String)String">defaultID</a><span class="delimiter">(</span><a href="#sbt.Build.default;$anon.projectDefinitions.base" title="java.io.File">base</a><span class="delimiter">)</span>, <a href="#sbt.Build.default;$anon.projectDefinitions.base" title="java.io.File">base</a><span class="delimiter">)</span> <a href="#sbt.Build.default;$anon.projectDefinitions.x$1" title="(x: sbt.Project)List[sbt.Project]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span> <span class="delimiter">}</span>
	<span class="keyword">def</span> <a title="(id: String, aggregate: Seq[sbt.ProjectRef])sbt.Build" id="sbt.Build.defaultAggregated">defaultAggregated</a><span class="delimiter">(</span><a title="String" id="sbt.Build.defaultAggregated.id">id</a>: <span title="String">String</span>, <a title="Seq[sbt.ProjectRef]" id="sbt.Build.defaultAggregated.aggregate">aggregate</a>: <span title="Seq[sbt.ProjectRef]">Seq</span><span class="delimiter">[</span>ProjectRef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#sbt;Build" title="sbt.Build">Build</a> = <a href="#sbt.Build.defaultAggregated;$anon" title="sbt.Build" class="keyword">new</a> <a title="anonymous class $anon extends AnyRef with sbt.Build" id="sbt.Build.defaultAggregated;$anon">Build</a> <span class="delimiter">{</span>
		<span class="keyword">override</span> <span class="keyword">def</span> <a title="(base: java.io.File)List[sbt.Project]" id="sbt.Build.defaultAggregated;$anon.projectDefinitions">projectDefinitions</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.Build.defaultAggregated;$anon.projectDefinitions.base">base</a>: <span title="java.io.File">File</span><span class="delimiter">)</span> = <a href="#sbt.Build.defaultAggregatedProject" title="(id: String, base: java.io.File, agg: Seq[sbt.ProjectRef])sbt.Project">defaultAggregatedProject</a><span class="delimiter">(</span><a href="#sbt.Build.defaultAggregated.id" title="String">id</a>, <a href="#sbt.Build.defaultAggregated;$anon.projectDefinitions.base" title="java.io.File">base</a>, <a href="#sbt.Build.defaultAggregated.aggregate" title="Seq[sbt.ProjectRef]">aggregate</a><span class="delimiter">)</span> <a href="#sbt.Build.defaultAggregated;$anon.projectDefinitions.x$2" title="(x: sbt.Project)List[sbt.Project]">::</a> <span title="scala.collection.immutable.Nil.type">Nil</span>
	<span class="delimiter">}</span>

	<span class="keyword">def</span> <a title="(base: java.io.File, prefix: String)String" id="sbt.Build.defaultID">defaultID</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.Build.defaultID.base">base</a>: <span title="java.io.File">File</span>, <a title="String" id="sbt.Build.defaultID$default$2">prefix</a>: <span title="String">String</span> = <span title="String(&quot;default&quot;)" class="string">&quot;default&quot;</span><span class="delimiter">)</span>: <span title="String">String</span> = <a href="#sbt.Build.defaultID$default$2" title="String">prefix</a> <span title="(x$1: Any)String">+</span> <span title="String(&quot;-&quot;)" class="string">&quot;-&quot;</span> <span title="(x$1: Any)String">+</span> <a href="Hash.scala.html#sbt.Hash" title="sbt.Hash.type">Hash</a>.<a href="Hash.scala.html#sbt.Hash.trimHashString" title="(s: String, i: Int)String">trimHashString</a><span class="delimiter">(</span><a href="#sbt.Build.defaultID.base" title="java.io.File">base</a>.<span title="()String">getAbsolutePath</span>, <span title="Int(6)" class="int">6</span><span class="delimiter">)</span>
	@deprecated<span class="delimiter">(</span><span class="string">&quot;Explicitly specify the ID&quot;</span>, <span class="string">&quot;0.13.0&quot;</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(base: java.io.File)sbt.Project" id="sbt.Build.defaultProject(d11a24e70d)">defaultProject</a><span class="delimiter">(</span><a title="java.io.File" id="sbt.Build.defaultProject(d11a24e70d).base">base</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="Project.scala.html#sbt;Project" title="sbt.Project">Project</a> = <a href="#sbt.Build.defaultProject(88e8f26929)" title="(id: String, base: java.io.File)sbt.Project">defaultProject</a><span class="delimiter">(</span><a href="#sbt.Build.defaultID" title="(base: java.io.File, prefix: String)String">defaultID</a><span class="delimiter">(</span><a href="#sbt.Build.defaultProject(d11a24e70d).base" title="java.io.File">base</a><span class="delimiter">)</span>, <a href="#sbt.Build.defaultProject(d11a24e70d).base" title="java.io.File">base</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(id: String, base: java.io.File)sbt.Project" id="sbt.Build.defaultProject(88e8f26929)">defaultProject</a><span class="delimiter">(</span><a title="String" id="sbt.Build.defaultProject(88e8f26929).id">id</a>: <span title="String">String</span>, <a title="java.io.File" id="sbt.Build.defaultProject(88e8f26929).base">base</a>: <span title="java.io.File">File</span><span class="delimiter">)</span>: <a href="Project.scala.html#sbt;Project" title="sbt.Project">Project</a> = <a href="Project.scala.html#sbt.Project.apply" title="(id: String, base: java.io.File, aggregate: =&gt; Seq[sbt.ProjectReference], dependencies: =&gt; Seq[sbt.ClasspathDep[sbt.ProjectReference]], delegates: =&gt; Seq[sbt.ProjectReference], settings: =&gt; Seq[sbt.Def.Setting[_]], configurations: Seq[sbt.Configuration], auto: sbt.AddSettings)sbt.Project">Project</a><span class="delimiter">(</span><a href="#sbt.Build.defaultProject(88e8f26929).id" title="String">id</a>, <a href="#sbt.Build.defaultProject(88e8f26929).base" title="java.io.File">base</a><span class="delimiter">)</span>.<a href="Project.scala.html#sbt;Project.settings(9f322ffe37)" title="(ss: sbt.Def.Setting[_]*)sbt.Project">settings</a><span class="delimiter">(</span>
		<span class="comment">// TODO - Can we move this somewhere else?  ordering of settings is causing this to get borked.</span>
		<span class="comment">// if the user has overridden the name, use the normal organization that is derived from the name.</span>
		<a href="Keys.scala.html#sbt.Keys.organization" title="=&gt; sbt.SettingKey[String]">organization</a> <a href="Structure.scala.html#sbt;SettingKey.:=" title="(v: String)sbt.Def.Setting[String]">:=</a> <span class="delimiter">{</span>
			<span class="keyword">val</span> <a title="Boolean" id="sbt.Build.defaultProject(88e8f26929).overridden">overridden</a> = <a href="Def.scala.html#sbt.Def.macroValueI" title="(in: sbt.Def.Initialize[sbt.ResolvedProject])sbt.std.MacroValue[sbt.ResolvedProject]">thisProject</a>.<a href="std/InputWrapper.scala.html#sbt.std;MacroValue.value" title="=&gt; sbt.ResolvedProject">value</a>.<a href="Project.scala.html#sbt;ProjectDefinition.id" title="=&gt; String">id</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="Def.scala.html#sbt.Def.macroValueI" title="(in: sbt.Def.Initialize[String])sbt.std.MacroValue[String]">name</a>.<a href="std/InputWrapper.scala.html#sbt.std;MacroValue.value" title="=&gt; String">value</a>
			<a href="Keys.scala.html#sbt.Keys.organization" title="=&gt; sbt.SettingKey[String]">organization</a>.<a href="Def.scala.html#sbt.Def.macroValueI" title="(in: sbt.Def.Initialize[Option[String]])sbt.std.MacroValue[Option[String]]">?</a>.<a href="std/InputWrapper.scala.html#sbt.std;MacroValue.value" title="=&gt; Option[String]">value</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
				<span class="keyword">case</span> Some<span class="delimiter">(</span><a title="String" id="sbt.Build.defaultProject(88e8f26929).o">o</a><span class="delimiter">)</span> <span class="keyword">if</span> <span title="=&gt; Boolean">!</span><a href="#sbt.Build.defaultProject(88e8f26929).overridden" title="Boolean">overridden</a> =&gt; <a href="#sbt.Build.defaultProject(88e8f26929).o" title="String">o</a>
				<span class="keyword">case</span> _ =&gt; <span title="String(&quot;default&quot;)" class="string">&quot;default&quot;</span>
			<span class="delimiter">}</span>
			<span class="comment">//(thisProject, organization, name) { (p, o, n) =&gt; if(p.id == n) &quot;default&quot; else o }</span>
		<span class="delimiter">}</span>
	<span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(id: String, base: java.io.File, agg: Seq[sbt.ProjectRef])sbt.Project" id="sbt.Build.defaultAggregatedProject">defaultAggregatedProject</a><span class="delimiter">(</span><a title="String" id="sbt.Build.defaultAggregatedProject.id">id</a>: <span title="String">String</span>, <a title="java.io.File" id="sbt.Build.defaultAggregatedProject.base">base</a>: <span title="java.io.File">File</span>, <a title="Seq[sbt.ProjectRef]" id="sbt.Build.defaultAggregatedProject.agg">agg</a>: <span title="Seq[sbt.ProjectRef]">Seq</span><span class="delimiter">[</span>ProjectRef<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="Project.scala.html#sbt;Project" title="sbt.Project">Project</a> =
		<a href="#sbt.Build.defaultProject(88e8f26929)" title="(id: String, base: java.io.File)sbt.Project">defaultProject</a><span class="delimiter">(</span><a href="#sbt.Build.defaultAggregatedProject.id" title="String">id</a>, <a href="#sbt.Build.defaultAggregatedProject.base" title="java.io.File">base</a><span class="delimiter">)</span>.<a href="Project.scala.html#sbt;Project.aggregate(bb9359b660)" title="(refs: sbt.ProjectReference*)sbt.Project">aggregate</a><span class="delimiter">(</span><a href="#sbt.Build.defaultAggregatedProject.agg" title="Seq[sbt.ProjectRef]">agg</a> : _*<span class="delimiter">)</span>

	@deprecated<span class="delimiter">(</span><span class="string">&quot;Use Attributed.data&quot;</span>, <span class="string">&quot;0.13.0&quot;</span><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="[T](in: Seq[sbt.Attributed[T]])Seq[T]" id="sbt.Build.data">data</a><span class="delimiter">[</span><a title="" id="sbt.Build.data;T">T</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="Seq[sbt.Attributed[T]]" id="sbt.Build.data.in">in</a>: <span title="Seq[sbt.Attributed[T]]">Seq</span><span class="delimiter">[</span>Attributed<span class="delimiter">[</span>T<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[T]">Seq</span><span class="delimiter">[</span>T<span class="delimiter">]</span> = <a href="Attributes.scala.html#sbt.Attributed" title="sbt.Attributed.type">Attributed</a>.<a href="Attributes.scala.html#sbt.Attributed.data" title="(in: Seq[sbt.Attributed[T]])Seq[T]">data</a><span class="delimiter">(</span><a href="#sbt.Build.data.in" title="Seq[sbt.Attributed[T]]">in</a><span class="delimiter">)</span>
	<span class="keyword">def</span> <a title="(in: Seq[sbt.Attributed[_]])Seq[sbt.inc.Analysis]" id="sbt.Build.analyzed">analyzed</a><span class="delimiter">(</span><a title="Seq[sbt.Attributed[_]]" id="sbt.Build.analyzed.in">in</a>: <span title="Seq[sbt.Attributed[_]]">Seq</span><span class="delimiter">[</span>Attributed<span class="delimiter">[</span>_<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Seq[sbt.inc.Analysis]">Seq</span><span class="delimiter">[</span>inc.Analysis<span class="delimiter">]</span> = <a href="#sbt.Build.analyzed.in" title="Seq[sbt.Attributed[_]]">in</a>.<span title="(f: sbt.Attributed[_] =&gt; scala.collection.GenTraversableOnce[sbt.inc.Analysis])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[sbt.Attributed[_]],sbt.inc.Analysis,Seq[sbt.inc.Analysis]])Seq[sbt.inc.Analysis]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,sbt.inc.Analysis,Seq[sbt.inc.Analysis]]" class="delimiter">{</span> <a href="#sbt.Build.analyzed.$anonfun.x$3" title="sbt.Attributed[_]">_</a>.<a href="Attributes.scala.html#sbt;Attributed.metadata" title="=&gt; sbt.AttributeMap">metadata</a>.<a href="Attributes.scala.html#sbt;AttributeMap.get" title="(k: sbt.AttributeKey[sbt.inc.Analysis])Option[sbt.inc.Analysis]">get</a><span title="(xo: Option[sbt.inc.Analysis])Iterable[sbt.inc.Analysis]" class="delimiter">(</span><a href="Keys.scala.html#sbt.Keys" title="sbt.Keys.type">Keys</a>.<a href="Keys.scala.html#sbt.Keys.analysis" title="=&gt; sbt.AttributeKey[sbt.inc.Analysis]">analysis</a><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>
